<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SHIELD FOR HER</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.294.0/lucide.min.css">
    <link rel="stylesheet" href="./css/mainpage.css">
  </head><body>
    <!-- Modal Backdrop -->
    <div class="modal-backdrop" id="modalBackdrop" onclick="closeAllModals()"></div>

    <!-- Alert Modal -->
    <div class="alert-modal" id="alertModal">
      <button class="alert-close" onclick="closeAlert()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </button>
      <div class="alert-icon-wrapper">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
      </div>
      <h2>긴급 신고 접수</h2>
      <p>관련 기관에 즉시 통보되었습니다</p>
    </div>

    <!-- Signup Modal -->
    <div class="signup-modal" id="signupModal">
      <button class="modal-close" onclick="closeSignup()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </button>
      <h2>회원가입</h2>
      
      <!-- Social Login Section -->
      <div style="margin-bottom: 32px;">
        <button class="btn-kakao" onclick="handleKakaoSignup()">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 3C6.48 3 2 6.58 2 11c0 2.8 1.8 5.27 4.5 6.75L5.5 21l4.5-2.25c.65.08 1.32.12 2 .12 5.52 0 10-3.58 10-8s-4.48-8-10-8z"/>
          </svg>
          카카오톡으로 시작하기
        </button>
        
        <div style="display: flex; align-items: center; gap: 16px; margin: 24px 0;">
          <div style="flex: 1; height: 1px; background: var(--gray-200);"></div>
          <span style="font-size: 14px; color: var(--gray-500);">또는</span>
          <div style="flex: 1; height: 1px; background: var(--gray-200);"></div>
        </div>
      </div>

      <form onsubmit="handleSignup(event)">
        <div class="form-group">
          <label class="form-label">이름</label>
          <input class="form-input" type="text" placeholder="이름을 입력하세요" required />
        </div>
        <div class="form-group">
          <label class="form-label">이메일</label>
          <input class="form-input" type="email" placeholder="example@email.com" required />
        </div>
        <div class="form-group">
          <label class="form-label">비밀번호</label>
          <input class="form-input" type="password" placeholder="8자 이상" required />
        </div>
        <div class="form-group">
          <label class="form-label">비밀번호 확인</label>
          <input class="form-input" type="password" placeholder="비밀번호 재입력" required />
        </div>
        <button type="submit" class="btn-submit">가입하기</button>
      </form>
    </div>

    <!-- Device Connection Modal -->
    <div class="device-modal" id="deviceModal">
      <button class="modal-close" onclick="closeDevice()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </button>
      
      <div class="device-header">
        <div class="device-icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
        </div>
        <h2>새 기기 등록</h2>
        <p class="device-subtitle">기기 정보를 입력하여 등록하세요</p>
      </div>

      <form id="deviceForm" onsubmit="handleDeviceSubmit(event)" style="padding: 0 40px 40px;">
        <div class="form-group">
          <label class="form-label">디바이스 ID <span style="color: var(--red);">*</span></label>
          <input class="form-input" type="text" id="deviceId" placeholder="기기 뒷면에 적혀있는 ID를 입력하세요" required />
          <p style="font-size: 12px; color: var(--gray-500); margin-top: 6px;">기기 뒷면에 적혀있습니다</p>
        </div>

        <div class="form-group">
          <label class="form-label">디바이스 타입 <span style="color: var(--red);">*</span></label>
          <select class="form-input" id="deviceType" required>
            <option value="">타입을 선택하세요</option>
            <option value="window">창문 센서</option>
            <option value="voice">음성 녹음 장치</option>
            <option value="camera">CCTV 카메라</option>
            <option value="door">출입문 센서</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">디바이스 이름</label>
          <input class="form-input" type="text" id="deviceName" placeholder="예: 거실 창문 센서 (선택사항)" />
        </div>

        <div class="form-group">
          <label class="form-label">설치 장소 <span style="color: var(--red);">*</span></label>
          <input class="form-input" type="text" id="deviceLocation" placeholder="예: 작은방, 거실, 현관" required />
        </div>

        <div class="form-group">
          <label class="form-label">설치 일자 <span style="color: var(--red);">*</span></label>
          <input class="form-input" type="date" id="deviceDate" required />
        </div>

        <div class="form-actions">
          <button type="button" class="btn-secondary" onclick="closeDevice()">취소</button>
          <button type="submit" class="btn-primary">등록하기</button>
        </div>
      </form>

      <!-- Registered Devices List -->
      <div style="padding: 0 40px 40px;">
        <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 16px; color: var(--gray-900);">등록된 기기</h3>
        <div id="registeredDevicesList"></div>
      </div>
    </div>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel">
      <div class="notification-header">
        <h3>알림</h3>
        <button class="clear-all-btn" onclick="clearAllNotifications()">모두 지우기</button>
      </div>
      <div class="notification-list" id="notificationList">
        <!-- Notifications will be rendered here -->
      </div>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal">
      <button class="modal-close" onclick="closeSettings()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </button>
      
      <div class="settings-header">
        <div class="settings-header-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v3m0 14v3M4.22 4.22l2.12 2.12m11.32 11.32l2.12 2.12M2 12h3m14 0h3M4.22 19.78l2.12-2.12m11.32-11.32l2.12-2.12"/><circle cx="12" cy="12" r="3"/></svg>
        </div>
        <h2>보안 키워드 설정</h2>
      </div>
      
      <p class="settings-description">
        비상 시, 사용할 음성 키워드를 작성해주세요. ex. 빨간토끼
      </p>

      <div class="keyword-list" id="keywordList">
        <div class="keyword-item">
          <span class="keyword-text">검은구름</span>
          <button class="keyword-delete" onclick="deleteKeyword(this)">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
          </button>
        </div>

        <div class="keyword-item">
          <span class="keyword-text">노랑사자</span>
          <button class="keyword-delete" onclick="deleteKeyword(this)">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
          </button>
        </div>
      </div>

      <div class="add-keyword-wrapper">
        <input 
          type="text" 
          class="keyword-input" 
          id="keywordInput" 
          placeholder="새 키워드를 입력하세요"
          onkeypress="if(event.key==='Enter') addKeyword()"
        />
        <button class="btn-add-keyword" onclick="addKeyword()">
          + 비상 키워드 추가하기
        </button>
      </div>
    </div>
    <div class="device-modal" id="deviceModal">
      <button class="modal-close" onclick="closeDevice()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </button>
      
      <div class="device-header">
        <div class="device-icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
        </div>
        <h2>기기 연결</h2>
        <p class="device-subtitle">사용 가능한 기기를 선택하세요</p>
      </div>

      <div class="device-list">
        <div class="device-item" onclick="selectDevice('smartphone')">
          <div class="device-item-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
          </div>
          <div class="device-item-info">
            <h4>스마트폰</h4>
            <p>iPhone 15 Pro</p>
          </div>
          <div class="device-status connected">
            <span class="status-dot"></span>
            연결됨
          </div>
        </div>

        <div class="device-item" onclick="selectDevice('camera')">
          <div class="device-item-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="m23 7-7 5 7 5V7z"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
          </div>
          <div class="device-item-info">
            <h4>CCTV 카메라</h4>
            <p>현관 카메라 #1</p>
          </div>
          <div class="device-status available">
            대기 중
          </div>
        </div>

        <div class="device-item" onclick="selectDevice('sensor')">
          <div class="device-item-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/><polyline points="13 2 13 9 20 9"/></svg>
          </div>
          <div class="device-item-info">
            <h4>창문 센서</h4>
            <p>거실 창문 센서</p>
          </div>
          <div class="device-status available">
            대기 중
          </div>
        </div>

        <div class="device-item" onclick="selectDevice('mic')">
          <div class="device-item-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/></svg>
          </div>
          <div class="device-item-info">
            <h4>마이크</h4>
            <p>음성 녹음 장치</p>
          </div>
          <div class="device-status connected">
            <span class="status-dot"></span>
            연결됨
          </div>
        </div>
      </div>

      <button class="btn-add-device" onclick="addNewDevice()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        새 기기 추가
      </button>
    </div>

    <!-- Navigation -->
    <nav class="nav">
      <div class="nav-content">
        <div class="brand">SHIELD FOR HER</div>
        <div class="nav-actions">
          <button class="icon-btn" title="알림" onclick="openNotifications()">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>
            <span class="badge" id="notificationBadge">3</span>
          </button>
          <button class="icon-btn" title="설정" onclick="openSettings()">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
      </div>
    </nav>

    <!-- Main Content Wrapper -->
    <div id="mainContent">
    <!-- Hero Section -->
    <section class="hero">
      <h1>당신의 안전을<br>지켜드립니다</h1>
      <p class="subtitle">24시간 실시간 모니터링 시스템</p>
    </section>

    <!-- Main Content -->
    <div class="container">
      <div class="grid">
        <!-- Left Column -->
        <div>
          <!-- Status Cards -->
          <div class="cards">
            <div class="card">
              <div class="card-header">
                <div class="card-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/></svg>
                </div>
                <h3>음성 녹음</h3>
              </div>
              <div class="card-status active">
                <span class="status-dot"></span>
                작동 중
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <div class="card-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="m23 7-7 5 7 5V7z"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
                </div>
                <h3>CCTV</h3>
              </div>
              <div class="card-status inactive">
                <span class="status-dot"></span>
                대기 중
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <div class="card-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/><polyline points="13 2 13 9 20 9"/></svg>
                </div>
                <h3>창문 센서</h3>
              </div>
              <div class="card-status inactive">
                <span class="status-dot"></span>
                열림
              </div>
            </div>
          </div>

          <!-- Tiles -->
          <div class="tiles">
            <div class="tile">
              <div class="tile-header">
                <div class="tile-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                </div>
                <h2>보안 상태</h2>
              </div>
              <div class="toggle-wrapper">
                <div class="toggle" id="secToggle" onclick="toggleSecurity()">
                  <div class="toggle-knob">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                  </div>
                </div>
                <span class="toggle-label" id="toggleLabel">비활성</span>
              </div>
            </div>

            <div class="tile">
              <div class="tile-header">
                <div class="tile-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                </div>
                <h2>커뮤니티</h2>
              </div>
              <div class="board">
                <div class="board-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                </div>
                <p>새로운 게시물 확인하기</p>
                <a href="community.html">게시판 바로가기
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                </a>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="actions-grid">
            <button class="action-btn btn-emergency" onclick="triggerEmergency()">
              <div class="action-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
              </div>
              <span>긴급 신고</span>
            </button>

            <button class="action-btn btn-device" onclick="connectDevice()">
              <div class="action-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
              </div>
              <span>기기 연결</span>
            </button>
          </div>
        </div>

        <!-- Right Column - Login -->
        <aside class="login-panel">
          <div class="login-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          </div>
          <h3>로그인</h3>
          <p class="description">모든 기능을 이용하세요</p>

          <!-- Kakao Login Button -->
          <button class="btn-kakao" onclick="handleKakaoLogin()" style="margin-bottom: 20px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 3C6.48 3 2 6.58 2 11c0 2.8 1.8 5.27 4.5 6.75L5.5 21l4.5-2.25c.65.08 1.32.12 2 .12 5.52 0 10-3.58 10-8s-4.48-8-10-8z"/>
            </svg>
            카카오톡으로 로그인
          </button>

          <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
            <div style="flex: 1; height: 1px; background: var(--gray-200);"></div>
            <span style="font-size: 12px; color: var(--gray-500);">또는</span>
            <div style="flex: 1; height: 1px; background: var(--gray-200);"></div>
          </div>

          <form onsubmit="handleLogin(event)">
            <div class="form-group">
              <label class="form-label">이메일</label>
              <input class="form-input" type="email" placeholder="이메일 주소" required />
            </div>

            <div class="form-group">
              <label class="form-label">비밀번호</label>
              <input class="form-input" type="password" placeholder="비밀번호" required />
            </div>

            <button type="submit" class="btn-login">로그인</button>
          </form>

          <a class="signup-link" onclick="openSignup()">
            회원가입 →
          </a>
        </aside>
      </div>
    </div>
    </div>
    <script src="./js/mainpage.js"></script>
  </body>
</html>